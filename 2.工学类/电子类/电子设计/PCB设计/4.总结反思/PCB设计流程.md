

设计一款硬件电路，要熟悉元器件的基础理论，比如元器件原理、选型及使用，学会绘制原理图，并通过软件完成PCB设计，熟练掌握工具的技巧使用，学会如何优化及调试电路等。要如何完整地设计一套硬件电路设计，下面为大家分享我的几点个人经验。

# **1、总体思路**

设计硬件电路，大的框架和架构要搞清楚，但要做到这一点还真不容易。有些大框架也许自己的老板、老师已经想好，自己只是把思路具体实现。但也有些要自己设计框架的，那就要搞清楚要实现什么功能，然后找找有否能实现同样或相似功能的参考电路板。

**要懂得尽量利用他人的成果，越是有经验的工程师越会懂得借鉴他人的成果。**

# **2、找到参考设计**

在开始做硬件设计前，根据自己的项目需求，可以去找能够满足硬件功能设计的，有很多相关的参考设计。没有找到也没关系，先确定大IC芯片，找datasheet，看其关键参数是否符合自己的要求，哪些才是自己需要的关键参数，以及能否看懂这些关键参数，都是硬件工程师的能力的体现，这也需要长期地慢慢地积累。

**这期间，要善于提问，因为自己不懂的东西，别人往往一句话就能点醒你，尤其是硬件设计。**

# **3、理解电路**

如果你找到了的参考设计，恭喜你！你可以节约很多时间了，包括前期设计和后期调试。马上就copy？NO。

**先看懂理解了再说，既能提高我们的电路理解能力，还能避免设计中的错误。**

# **4、PCB设计三部分**

**原理图、PCB、物料清单（BOM）表**

原理图设计，其实就是将前面的思路转化为电路原理图，它很像我们教科书上的电路图。pcb涉及到实际的电路板，它根据原理图转化而来的网表（网表是沟通原理图和pcb之间的桥梁），而将具体的元器件的封装放置在电路板上，然后根据飞线连接其电信号。完成了pcb布局布线后，要用到哪些元器件应该有所归纳，所以我们将用到BOM表。

![明确这五点PCB设计思路，你离成功只差一步](https://i0.hdslb.com/bfs/article/fcdc26212d5c7ed8d86805c312e5b115ec45c94b.png@!web-article-pic.avif)

  

# **5、选择设计工具**

Protel，也就是Altium（现在入门的童鞋大多用AD）。容易上手，网上的学习教程资料也很全面，在国内也比较流行，应付一般的工作已经足够，适合初入门的设计者使用。高级点的还有PADS和Cadence。

**原理图+网表生成**

![明确这五点PCB设计思路，你离成功只差一步](https://i0.hdslb.com/bfs/article/c799b28a35caa5ddaaf9cd45295db4e4b706eafe.png@!web-article-pic.avif)

  

原理图库建立。要将一个新元件摆放在原理图上，我们必须得建立改元件的库。库中主要定义了该新元件的管脚定义及其属性，并且以具体的图形形式来代表。我们常常看到的是一个矩形（代表其IC BODY），周围许多短线（代表IC管脚）。

protel创建库及其简单，而且因为用的人多，许多元件都能找到现成的库，这一点对使用者极为方便。应搞清楚ic body，ic pins，input pin，output pin，analog pin，digital pin，power pin等区别。

![明确这五点PCB设计思路，你离成功只差一步](https://i0.hdslb.com/bfs/article/0df690908aacd4779e9ba24385f5e2dba691cc05.png@!web-article-pic.avif)

  

有了充足的库之后，就可以在原理图上画图了，按照datasheet和系统设计的要求，通过wire把相关元件连接起来。在相关的地方添加line和text注释。

wire和line的区别在于，前者有电气属性，后者没有。wire适用于连接相同网络，line适用于注释图形。这个时候，应搞清一些基本概念，如：wire，line，bus，part，footprint，等等。

![明确这五点PCB设计思路，你离成功只差一步](https://i0.hdslb.com/bfs/article/6b86b3f6fbdb7d23b9b777f3815d2175c19516d0.png@!web-article-pic.avif)

  

做完这一步，我们就可以生成netlist了，这个netlist是原理图与pcb之间的桥梁。原理图是我们能认知的形式，电脑要将其转化为pcb，就必须将原理图转化它认识的形式netlist，然后再处理、转化为pcb。

![明确这五点PCB设计思路，你离成功只差一步](https://i0.hdslb.com/bfs/article/3610475583c1ee4a5f40f94607fc9a5fd184cf62.png@!web-article-pic.avif)

  

得到netlist，马上画pcb？别急，先做ERC先。

ERC是电气规则检查的缩写。它能对一些原理图基本的设计错误进行排查，如多个output接在一起等问题。但是一定要仔细检查自己的原理图，不能过分依赖工具。毕竟工具并不能明白你的系统，它只是纯粹地根据一些基本规则排查。

![明确这五点PCB设计思路，你离成功只差一步](https://i0.hdslb.com/bfs/article/c70af3f532ea7d38610a86d1ebad4e1f3008760c.png@!web-article-pic.avif)

  

从netlist得到了pcb，一堆密密麻麻的元件，和数不清的飞线是不是让你吓了一跳？别急，还得慢慢来。

![明确这五点PCB设计思路，你离成功只差一步](https://i0.hdslb.com/bfs/article/480f512de9729dfd6864acec81fd8db827cedc7a.png@!web-article-pic.avif)

  

确定板框大小。在keepout区或mechanic区画个板框，这将限制了你布线的区域。需要根据需求好考虑板长、板宽，有时还得考虑板厚。

![明确这五点PCB设计思路，你离成功只差一步](https://i0.hdslb.com/bfs/article/1e1575131e53b9dbf45aa1d45ffc07b694b42878.png@!web-article-pic.avif)

  

当然了，叠层也得考虑好。叠层的意思就是，板层有几层，怎么应用，比如板总共4层，顶层走信号，中间第一层铺电源，中间第二层铺地，底层走信号。

  

# **6、PCB布局布线**

先解释一下前面的术语。post-command，例如我们要拷贝一个object（元件），我们要先选中这个object，然后按ctrl+C，然后按ctrl+V（copy命令发生在选中object之后）。

这种操作windows和protel都采用的这种方式。但是concept就是另外一种方式，我们叫做pre-command。同样我们要拷贝一个东西，先按ctrl+C，然后再选中object，再在外面单击（copy命令发生在选中object之前）。

**1、确定完板框之后，就该元件布局了。布局这步极为关键，它往往决定了后期布线的难易。哪些元器件该摆正面，哪些元件该摆背面，都要有所考量。但是这些都是一个仁者见仁，智者见智的问题。

从不同角度考虑摆放位置都可以不一样。其实自己画了原理图，明白所有元件功能，自然对元件摆放有清楚的认识。如果让一个不是画原理图的人来摆放元件，其结果往往会让你大吃一惊。对于初入门来说，注意模拟元件，数字元件的隔离，以及机械位置的摆放，同时注意电源的拓扑就可以了。

**2、接下来就是布线。这与布局往往是互动的。有经验的人往往在开始就能看出哪些地方能布线成功。如果有些地方难以布线还需要改动布局。对于fpga设计来说往往还要改动原理图来使布线更加顺畅。

布线和布局问题涉及的因素很多，对于高速数字部分，因为牵扯到信号完整性问题而变得复杂，但往往这些问题又是难以定量或即使定量也难以计算的。所以，在信号频率不是很高的情况下，应以布通为第一原则。

**3、OK了？别急，用DRC检查检查先，这是一定要检查的。DRC对于布线完成覆盖率以及规则违反的地方都会有所标注，按照这个再一一的排查，修正。

**4、有些pcb还要加上敷铜（可能会导致成本增加），将出线部分做成泪滴（工厂也许会帮你加）。最后的pcb文件转成gerber文件就可交付pcb生产了。有些直接给pcb也成，工厂会帮你转gerber。


**5、要装配pcb，准备bom表吧，一般能直接从原理图中导出。但是需要注意的是，原理图中哪些部分元件该上，哪些部分元件不该上，要做到心理有数。对于小批量或研究板而言，用excel自己管理倒也方便。大公司往往要专业软件来管理。

![明确这五点PCB设计思路，你离成功只差一步](https://i0.hdslb.com/bfs/article/ae29777bc81fb5abb3fcb38669133a3312585f6f.png@1256w_710h_!web-article-pic.avif)

  

而对于新手而言，第一个版本，不建议直接交给装配工厂或焊接工厂将bom的料全部焊上，这样不便于排查问题。最好的方法就是，根据bom表自己准备好元件。等到板来了之后，一步步上元件、调试。







# **7、电路调试**

**01、拿到板第一步做什么？不要急急忙忙供电看功能，硬件调试不可能一步调试完成的。先拿万用表看看关键网络是否有不正常，主要是看电源与地之间有否短路。尽管生产厂商已经帮你做过测试，这一步还是要自己亲自看看，有时候看起来某些步骤挺繁琐，但是可以节约你后面不少时间！


其实短路与否不光pcb有关，在生产制作的任何一个环节可能导致这个问题，IO短路一般不会造成灾难性的后果，但是电源短路就......



**02、电源网络没短路？那么好，那就看看电源输出是否是自己理想的值，对于初学者，调试的时候最好IC一件件芯片上，第一个要上的就是电源芯片。


  

**03、电源网络短路了？这个比较麻烦，不过要仔细看看自己原理图是否有可能这样的情况，同时结合割线的方法一步步排查到底是什么地方短路了，是pcb的问题（一般比较烂的pcb厂就可能出现这种情况），还是装配的问题，还是自己设计的问题。

  

**04、电源芯片没有输出？检查检查你的电源芯片输入是否正常吧，还需要检查的地方有使能信号，分压电阻，反馈网络......

  

**05、电源芯片输出值不在预料范围？如果超过很离谱，比如到了10%，那么看看分压电阻先，这两个分压电阻一般要用1%的精度，这个你做到了没有，同时看看反馈网络吧，这也会影响你的输出电源的范围。

  

**06、电源输出正常了，别高兴，如果有条件的话，拿示波器看看吧，看看电源的输出跳变是否正常。也就是抓取开电的瞬间，看看电源从无到有的情况。至于为什么要看着个？嘿嘿......专业人士还是要看的～





# 8、电路改进









**结语**

总而言之，要学好硬件电路设计，首先要弄清楚项目需求，根据功能设计硬件框架，结合参考设计，多借鉴别人的设计成果，复用到自己的硬件项目上面来。

