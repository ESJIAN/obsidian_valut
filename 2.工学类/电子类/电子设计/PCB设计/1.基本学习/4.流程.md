

# **1. 启动与需求分析**

- **明确项目目标**：确定PCB的功能、性能指标、尺寸要求、成本限制等。
    
- **收集技术文档**：包括原理图、元器件清单（BOM）、技术规格书、设计规范等。
    
- **确定设计规则**：包括线宽、线距、过孔大小、阻抗控制、层叠结构等。
    

# **2. 原理图设计**

- **绘制原理图**：使用EDA（Electronic Design Automation）工具（如Altium Designer、Cadence Allegro、OrCAD等）绘制电路原理图。
    
- **检查原理图**：确保原理图的正确性和完整性，包括元器件连接、信号流向、电源和地的分配等。
    
- **生成网络表**：从原理图中提取网络表，用于后续的PCB布局布线。
    

## 2.1. 设计原则




## 2.2. 注意事项



# **3. Layout前准备**
## 3.1. 确定外轮廓
- **确定外轮廓**：根据能够放置PCB的场所进行外轮廓机械层尺寸的规定

![1740664141058.png](https://www.helloimg.com/i/2025/02/27/67c06b2f0cf20.png)

## 3.2. 设置LayerStack
- **设置LayerStack**（简单PCB可忽略）：设置基材和每层材料的介电特性、厚度，初学者可不做

![1740664534454.png](https://www.helloimg.com/i/2025/02/27/67c06cb7a85b7.png)

## 3.3. 元气件选型 
- **元器件选型**：根据原理图和BOM，选择合适的元器件，考虑其性能、尺寸、成本等因素。




## 3.4. 导入封装库
- **封装库建立**：为每个元器件创建或导入封装库，包括2D封装（用于PCB布局）和3D封装（用于PCB渲染和仿真）。



- **封装检查**：确保封装库的正确性和完整性，包括引脚定义、尺寸、形状等。





- **封装检查**：确保封装库的正确性和完整性，包括引脚定义、尺寸、形状等。





# **4. PCB布局设计（Placement）**

**1、确定完板框之后，就该元件布局了。布局这步极为关键，它往往决定了后期布线的难易。哪些元器件该摆正面，哪些元件该摆背面，都要有所考量。但是这些都是一个仁者见仁，智者见智的问题。

从不同角度考虑摆放位置都可以不一样。其实自己画了原理图，明白所有元件功能，自然对元件摆放有清楚的认识。如果让一个不是画原理图的人来摆放元件，其结果往往会让你大吃一惊。对于初入门来说，注意模拟元件，数字元件的隔离，以及机械位置的摆放，同时注意电源的拓扑就可以了。



- **创建PCB文件**：根据项目需求创建PCB文件，若有需要可以设置PCB的尺寸、层数、层叠结构等。
- **导入元器件封装**：将元器件封装从封装库导入到PCB文件中。
- **初步布局**：**根据电路原理图**和设计规则，初步放置元器件，考虑信号流向、电源和地的分配、散热等因素。
- **检查布局规则**：根据布局基本原则进行布局检查，减少不合理布局情况的发生
- **优化布局**：根据信号完整性（SI）、电源完整性（PI）、电磁兼容性（EMC）等要求，优化元器件的布局，确保关键信号路径的最短化和最小化干扰。(最后做)
## 4.1. 布局拓补




## 4.2. 布局原则


### 4.1.1. 模块化与功能分区类

| 序号  | 原则描述                                          | 备注  |
| --- | --------------------------------------------- | --- |
| 1   | 按电路模块进行布局，实现同一功能的相关电路称为一个模块，电路模块中的元件应采用就近集中原则 |     |
| 11  | 完成同一功能的电路，应尽量靠近放置，并调整各元器件以保证连线最为简洁            |     |
| 2   | 数字电路和模拟电路分开。                                  |     |

**说明**：这类原则主要考虑将电路按照功能模块进行划分和布局，使同一功能的电路元件集中放置，便于管理和维护，同时避免不同功能模块之间的相互干扰，特别是数字电路和模拟电路的分离，以保证信号的纯净性和稳定性。




### 4.1.2. 元件布局间距与安装类

|序号|原则描述|备注|
|---|---|---|
|2|定位孔、标准孔等非安装孔周围1.27mm内不得贴装元器件；螺钉等安装孔周围3.5mm（M2.5）、4mm（M3）内不得贴装元器件||
|3|卧装电阻、电感（插件）、电解电容等元件的下方避免布过孔，以免波峰焊后过孔与元件壳体短路||
|4|元器件的外侧距板边的距离为5mm||
|5|贴装元件焊盘的外侧与相邻插装元件的外侧距离大于2mm||
|6|金属壳体元器件和金属件（屏蔽盒等）不能与其它元器件相碰，间距应大于2mm；定位孔、紧固件安装孔、椭圆孔及板中其它方孔外侧距板边的尺寸大于3mm||
|10|对于质量大的元器件应考虑安装位置和安装强度||

**说明**：这些原则主要是为了确保元件在电路板上的合理布局和安装，避免元件之间的相互干扰和短路，同时保证元件的安装强度和稳定性，以及在后续的焊接和组装过程中能够顺利进行，减少工艺上的问题。

### 4.1.3. 热管理与散热类

|序号|原则描述|备注|
|---|---|---|
|7|发热元件不能紧邻导线和热敏元件；高热器件要均衡分布||

**说明**：该原则主要考虑电路板的热管理，避免发热元件对其他元件产生不良影响，特别是热敏元件，确保电路板在工作过程中的温度分布合理，防止局部过热导致元件损坏或性能下降。

### 4.1.4. 电源与信号完整性类

| 序号  | 原则描述                                       | 备注  |
| --- | ------------------------------------------ | --- |
| 8   | 电源插座要尽量布置在印制板的四周，电源插座与其相连的汇流条接线端应布置在同侧     |     |
| 13  | 时钟产生器（如：晶振或钟振）要尽量靠近用到该时钟的器件                |     |
| 14  | 继电器线圈处要加放电二极管（1N4148即可）                    |     |
| 15  | 在每个集成电路的电源输入脚和地之间，需加一个去耦电容（一般采用高频性能好的独石电容） |     |

**说明**：这些原则主要关注电源和信号的完整性。电源插座的合理布局有助于减少电源线的长度和阻抗，提高电源的稳定性；时钟产生器靠近使用器件可以减少时钟信号的传输延迟和干扰；继电器线圈处加放电二极管可以保护电路免受反向电动势的损害；去耦电容的使用可以有效滤除电源中的高频噪声，保证集成电路的稳定工作。

### 4.1.5. 元件标识与对齐类

| 序号  | 原则描述                                        | 备注  |
| --- | ------------------------------------------- | --- |
| 9   | 所有IC元件单边对齐，有极性元件极性标示明确，同一印制板上极性标示方向不得多于两个方向 |     |

**说明**：这类原则主要是为了方便电路板的生产和维护，通过统一的元件对齐和明确的极性标识，可以提高生产效率，减少焊接错误，同时也便于后续的故障排查和维修工作。

## 4.3. 注意事项


## 4.4. 布局流程
- 确定机械尺寸要求，防止电路板超过规定机械尺寸



- 规划布局拓补，按照前面所说介绍的布局拓补方式进行布局



- 确定电流要求，将各个元件、线路的电流要求以及线宽以批注的方式写在旁边



- 打开**原理图窗口**，对照原理图的模块分区摆放 Layout 元件

![67f0fef20ab55.png](https://i0.hdslb.com/bfs/article/1adccf5ae5f26eaf6b363b97afb27446394687087.png)






# **5. PCB布线设计（Routing）**

- **设置布线规则**：根据设计规则，设置布线规则，包括线宽、线距、过孔大小、阻抗控制等。




**线宽选择建议(生产视角)**


> 1、一般线宽线距控制到 8/8mil ，过孔选择 12mil（0.3mm），大部分的PCB生产厂商都能生产，并且生产的成本低。

> 2、一般线宽线距控制到 6/6mil ，过孔选择 12mil（0.3mm），大部分的PCB生产厂商都能生产，并且生产的成本低。

> 3、线宽线距最小控制到 4/4mil，过孔选择 8mil（0.2mm），也有一半多的PCB生产厂商都能生产，不过价格会比前面的贵一点。

> 4、线宽线距最小控制到 3.5/3.5mil，过孔选择 8mil（0.2mm），能生产的PCB生产厂商更少了，并且价格也会贵一点。

> 5、线宽线距最小控制到 2/2mil，过孔选择 4mil（0.1mm），许多的pcb生产厂商都生产不了，这种的价格是最高的。

> 6、市电的火线和零线：80-100mil，12V /24V 20mil~60mil，+5V 20-30mil  
> ，+3V 20-30mil，GND 越宽越好20-30mil，普通信号线 10mil-20mil根据元器件密集度自行决定

根据[PCB设计](https://so.csdn.net/so/search?q=PCB%E8%AE%BE%E8%AE%A1&spm=1001.2101.3001.7020)的密度来进行设置线宽的话，密度较小，可设置线宽线距大一点，密度较大，可设置线宽线距小一点：


---

**一般线宽电流公式**

> I=K* T^0.44*A ^0.47

K为修正系数,一般覆铜线在内层时取0.024,在外层时取0.048;  
T为最大温升,单位为℃;  
A为覆铜线的截面积,单位为mil(不是mm,注意) ;  
I为允许的最大电流,单位是A。  
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/39d19d7789f2117ff2ed5263cfdc6db0.png)

---
（用于PCB布局）和3D封装（用于PCB渲染和仿真）。



## 5.0. 布线顺序
  
a) 关键信号线优先：电源、摸拟小信号、高速信号、时钟信号和同步信号等关键信号优先。


b) [布线密度](https://zhida.zhihu.com/search?content_id=187338102&content_type=Article&match_order=1&q=%E5%B8%83%E7%BA%BF%E5%AF%86%E5%BA%A6&zhida_source=entity)优先原则：从单板上连接关系最复杂的器件着手布线。从单板上连线最密集的区域开始布线。


c) [关键信号](https://zhida.zhihu.com/search?content_id=187338102&content_type=Article&match_order=3&q=%E5%85%B3%E9%94%AE%E4%BF%A1%E5%8F%B7&zhida_source=entity)处理注意事项：尽量为[时钟信号](https://zhida.zhihu.com/search?content_id=187338102&content_type=Article&match_order=2&q=%E6%97%B6%E9%92%9F%E4%BF%A1%E5%8F%B7&zhida_source=entity)、高频信号、敏感信号等关键信号提供专门的布线层，并保证其最小的回路面积。必要时应采取屏蔽和加大安全间距等方法。保证信号质量。


d) 有[阻抗控制](https://zhida.zhihu.com/search?content_id=187338102&content_type=Article&match_order=1&q=%E9%98%BB%E6%8A%97%E6%8E%A7%E5%88%B6&zhida_source=entity)要求的网络应布置在阻抗控制层上，须避免其信号跨分割。



## 5.1. 布线规则

### 5.1.1 一般原则

| 序号  | 原则描述                                                                                                                                                                                            | 图示                                                                        |
| --- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------- |
| 0   | 环路最小规则，即信号线与其回路构成的[环面积](https://zhida.zhihu.com/search?content_id=187338102&content_type=Article&match_order=1&q=%E7%8E%AF%E9%9D%A2%E7%A7%AF&zhida_source=entity)要尽可能小，环面积越小，对外的辐射越少，接收外界的干扰也越小 | ![](https://pic2.zhimg.com/v2-35c0de75fc8ae9c757fdf282bee87c19_1440w.jpg) |
| 1   | 板面布线应疏密得当，当疏密差别太大时应以网状铜箔填充，网格大于8mil(或0.2mm)                                                                                                                                                     |                                                                           |
| 2   | 贴片焊盘上不能有通孔，以免焊膏流失造成元件虚焊                                                                                                                                                                         |                                                                           |
| 3   | 重要信号线不准从插座脚间穿过                                                                                                                                                                                  |                                                                           |
| 6   | 画定布线区域距PCB板边≤1mm的区域内，以及安装孔周围1mm内，禁止布线                                                                                                                                                           |                                                                           |
| 7   | **电源线尽可能的宽**，不应低于18mil；信号线宽不应低于12mil；cpu入出线不应低于10mil（或8mil）；线间距不低于10mil                                                                                                                         |                                                                           |
| 8   | 正常过孔不低于30mil；双列直插：焊盘60mil，孔径40mil；1/4W电阻：51-55mil（0805表贴）；直插时焊盘62mil，孔径42mil；无极电容：51-55mil（0805表贴）；直插时焊盘50mil，孔径28mil                                                                           |                                                                           |
| 9   | 注意电源线与地线应尽可能呈放射状，以及信号线不能出现回环走线                                                                                                                                                                  |                                                                           |
| 10  | 小的分立器件走线需对称，间距比较密的SMT焊盘引线应从焊盘外部连接，不允许在焊盘中间直接连接                                                                                                                                                  | ![](https://pic4.zhimg.com/v2-5dd61d06c476be1b54eedda6730e28ff_1440w.jpg) |

**说明**：布线规则主要涉及印制板上导线的布局和设计，包括导线的宽度、间距、走向等，目的是为了确保信号的完整性和稳定性，减少信号干扰和传输损耗，同时提高电路板的制造工艺性和可靠性。



### 5.1.2. 电源布线规则

| 序号  | 原则描述                                | 备注  |
| --- | ----------------------------------- | --- |
| 1   | 数字电路需要的电流是不连续的，电源走线长会导致高频噪声         |     |
| 2   | 在数字器件前面加上旁路电容显得尤为重要，通常结合大电容和小电容一起使用 |     |
| 3   | 避免热点产生：通过网状式的放置过孔来保证电流密度均匀，同时平面不会隔离 |     |

**说明**：电源布线规则主要针对电源线的设计和布局，目的是为了确保电源的稳定性和可靠性，减少电源线上的噪声和电压降，同时避免因电流密度不均匀而产生的热点问题，提高系统的整体性能。


### 5.1.3. 抗干扰与电磁兼容性设计

| 序号  | 原则描述                                                                                                                                                                                                                             | 图示                                                                        |
| --- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------- |
| 1   | 下面的一些系统要特别注意抗电磁干扰：微控制器时钟频率特别高，总线周期特别快的系统；系统含有大功率，大电流驱动电路；含微弱模拟信号电路以及高精度A/D变换电路的系统                                                                                                                                                |                                                                           |
| 2   | 选用频率低的微控制器可以有效降低噪声和提高系统的抗干扰能力                                                                                                                                                                                                    |                                                                           |
| 3   | 减小信号传输中的畸变：信号在印刷线路板上传输，其延迟时间不应大于所用器件的标称延迟时间                                                                                                                                                                                      |                                                                           |
| 4   | 减小信号线间的交叉干扰：信号线间应保持足够距离，避免交叉干扰                                                                                                                                                                                                   |                                                                           |
| 5   | 减小来自电源的噪声：电源在向系统提供能源的同时，也将其噪声加到所供电的电源上                                                                                                                                                                                           |                                                                           |
| 6   | 注意印刷线板与元器件的高频特性：高频情况下，印刷线路板上的引线、过孔、电阻、电容、接插件的分布电感与电容不可忽略                                                                                                                                                                         |                                                                           |
| 7   | 元件布置要合理分区：把模拟信号部分，高速数字电路部分，噪声源部分合理分开                                                                                                                                                                                             |                                                                           |
| 8   | 处理好接地线：克服电磁干扰，最主要的手段就是接地                                                                                                                                                                                                         |                                                                           |
| 9   | 用好去耦电容：每个集成电路的电源，地之间都要加一个去耦电容                                                                                                                                                                                                    |                                                                           |
| 10  | 线与线之间的距离保持3倍线宽。是为了减少线间串扰，应保证线间距足够大，如果线中心距不少于3倍线宽时，则可保持70%的[线间电场](https://zhida.zhihu.com/search?content_id=187338102&content_type=Article&match_order=1&q=%E7%BA%BF%E9%97%B4%E7%94%B5%E5%9C%BA&zhida_source=entity)不互相干扰，称为3W规则。 | ![](https://pic4.zhimg.com/v2-cef126a58dc26124391ec12560595ee9_1440w.jpg) |

**说明**：抗干扰与电磁兼容性设计是确保电子设备在复杂电磁环境中正常工作的关键。这些原则主要关注如何减少系统内部的电磁干扰，以及如何提高系统对外部电磁干扰的抗扰能力，通过合理布局、选用合适的元件和设计接地系统等手段，确保系统的稳定性和可靠性。

### 5.1.4. 高速信号布线规则

| 序号  | 原则描述                                                                                                                                                                                                                                                                                                                             | 图示                                                                        |
| --- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------- |
| 1   | 高速信号线之间如果距离太近，很容易产生串扰，应尽量加大两高速信号线之间的距离                                                                                                                                                                                                                                                                                           |                                                                           |
| 2   | 长的 stub 线相当于天线，处理不当会产生严重的 EMC 问题，建议菊花链路由避免存根痕迹                                                                                                                                                                                                                                                                                   | ![](https://picx.zhimg.com/v2-f24c5fab87260518539d790f38e0e6bd_1440w.jpg) |
| 3   | 走线的阻抗值取决于线宽及与参考平面的距离，过孔会带来阻抗不连续，应移除未使用的过孔焊盘                                                                                                                                                                                                                                                                                      |                                                                           |
| 4   | 高速差分信号线必须保证等宽、等间距来实现特定的差分阻抗值，对称布线差分对并保持信号始终平行                                                                                                                                                                                                                                                                                    |                                                                           |
| 5   | 差分线对内禁止布置过孔或者元器件，如果需要串接耦合电容，推荐使用小封装电容                                                                                                                                                                                                                                                                                            |                                                                           |
| 6   | 蛇形线用于实现等长，蛇形线应布置在失长的源头处，而不是远端                                                                                                                                                                                                                                                                                                    |                                                                           |
| 7   | 防止信号线在不同层间形成[自环](https://zhida.zhihu.com/search?content_id=187338102&content_type=Article&match_order=1&q=%E8%87%AA%E7%8E%AF&zhida_source=entity)。在多层板设计中容易发生此类问题，自环将引起[辐射干扰](https://zhida.zhihu.com/search?content_id=187338102&content_type=Article&match_order=1&q=%E8%BE%90%E5%B0%84%E5%B9%B2%E6%89%B0&zhida_source=entity) | ![](https://picx.zhimg.com/v2-47cf2583dbd2bf09d7daf8db59f134d5_1440w.jpg) |
| 8   | 相邻平面走线方向成[正交](https://zhida.zhihu.com/search?content_id=187338102&content_type=Article&match_order=1&q=%E6%AD%A3%E4%BA%A4&zhida_source=entity)结构。避免将不同的信号线在相邻层走成同一方向，以减少不必要的层间窜扰；当由于板结构限制（如某些背板）难以避免出现该情况，特别是信号速率较高时，应考虑用地平面隔离各布线层，用地信号线隔离各信号线。                                                                                  | ![](https://pic3.zhimg.com/v2-6065b477dba7b2a51f571aca5f0c4f3a_1440w.jpg) |
| 9   | 同一网络的布线宽度应保持一致，线宽的变化会造成线路特性阻抗的不均匀，当传输的速度较高时会产生反射。在某些条件下，如[接插件](https://zhida.zhihu.com/search?content_id=187338102&content_type=Article&match_order=1&q=%E6%8E%A5%E6%8F%92%E4%BB%B6&zhida_source=entity)引出线，BGA封装的引出线类似的结构时，因间距过小可能无法避免线宽的变化，应该尽量减少中间不一致部分的有效长度。                                                                 | ![](https://pic1.zhimg.com/v2-e518433d0462c184b1da8752d1f73578_1440w.jpg) |

**说明**：高速信号布线规则主要关注高速信号的传输特性，包括信号线之间的间距、阻抗匹配、差分信号的布线等，目的是为了减少信号传输过程中的反射、串扰和时延差异，确保高速信号的完整性和稳定性，提高系统的性能和可靠性。





【SWDIO与SWCLK走线】
- MCU的SWDIO引脚与SWCLK引脚的走线参数
	- 线宽推荐
		- **一般推荐** ：通常情况下，STM MCU 的 SWDIO 引脚线宽推荐为 0.1mm 或 0.15mm。
		- **特殊情况下** ：如果 PCB 空间较为紧张，且制造工艺允许，也可以使用更小的线宽，如 0.1mm，但需要确保满足制造工艺要求和信号完整性。
	- 推荐依据
		- **制造工艺** ：常见的 PCB 制造工艺可以实现最小 0.089mm - 0.152mm 的线宽，因此 0.1mm 或 0.15mm 的线宽在大多数情况下是可以实现的。
		- **信号完整性** ：SWDIO 引脚用于调试通信，信号频率相对较低，0.1mm 或 0.15mm 的线宽可以满足信号传输的要求，同时避免过窄的线宽导致信号质量下降。
		- **布线空间** ：在一些高密度布线的 PCB 设计中，为了节省空间，可以适当减小线宽，但需要确保不会影响信号传输和制造工艺。
	
	
	
	
	- 长度差值
		- **一般推荐** ：尽可能保持 SWDIO 和 SWCLK 线缆的长度一致，如果无法完全一致，长度差值应控制在 100mil（约 2.54mm）以内。
		- **特殊情况** ：在一些高速信号传输或对信号完整性要求较高的情况下，长度差值可能需要更严格地控制，例如控制在 50mil（约 1.27mm）以内。
	- 推荐依据
		- **信号完整性** ：差分信号的传输要求两条信号线的长度尽量一致，以保证信号的同步性和完整性。如果长度差值过大，会导致信号传输的延迟不同，从而影响信号的质量和稳定性。
		- **电磁兼容性** ：长度差值过大会导致差分信号的不平衡，增加电磁辐射和干扰的风险。控制长度差值在一定范围内，可以减少电磁干扰，提高系统的抗干扰能力。



## 5.2. 注意事项
### 5.2.1. 走线宽度

- **依据** ：
    
    - **电流承载能力** ：根据通过走线的电流大小来确定走线宽度，以确保走线不会因过流而发热损坏。一般来说，1 盎司铜厚（约 35μm）的走线，承载 1A 电流的宽度大致为 1mm 左右，但这只是一个大致估算，实际设计中需根据具体情况进行调整 。也可以使用公式来精确计算所需的走线宽度，如宽度 (mm) ≈ (I² * K / (P * D))^(1/2) ，其中 I 为要通过的电流，K 为经验值系数，P 为铜的电阻率，D 为铜箔的实际厚度 。
        
    - **信号完整性** ：对于高速信号，为了保证信号的完整性，需要根据信号的频率、阻抗等特性来确定走线宽度，以减少信号的反射、串扰等问题。例如，对于差分信号线，其线宽和间距需要根据差分阻抗要求来确定，常见的差分阻抗要求是 100Ω±10% 。
        
    - **制造工艺** ：PCB 制造工艺对走线宽度有一定的限制，不同的制造工艺和设备精度会影响可实现的最小线宽。一般情况下，常见的最小线宽为 3.5~6mil（约 0.089~0.152mm） 。
        
- **取值范围** ：从几 mil（如 4mil、6mil）到几十 mil（如 20mil、50mil）不等，具体取决于上述因素。例如，在一些低速信号电路中，走线宽度可能为 10mil 左右；而在大电流电源线中，走线宽度可能需要达到几十 mil 甚至上百 mil。
    




> PCB铜厚一般分为1OZ(35um)、2OZ(70um)、3OZ(105um),一般双面板是1oz；多层板内层一般是1/2oz 1/3oz，外层1oz 1/2oz 1/3oz,  
> PCB中的尺寸有两种，mm和mil，转换关系为1mm=39mil。  
> 比如常用IC走线宽度10mil、1OZ 允许的电流大概在675mA左右，8mil、1OZ允许的电流大概在550mA左右。可以参考下图  
> ![285dc035ae7c4ddf6c88b0b67442b6f1.png](https://i0.hdslb.com/bfs/article/41f2f886ecd076fb2b18db2b37dd3a86394687087.png)
 


> 电源线、地线的宽度最好尽可能宽，地线比电源线宽。这些关系为：地线>电源线>信号线，通常信号线的宽度为0.2-0.3mm(8-12mil)，最细的宽度为0.05-0.07mm(2-2.8mil)，电源线为1.2-2.5mm(48-100mil)。(0.025mm=1mil).





---
**线宽选择建议(生产视角)**


> 1、一般线宽线距控制到 8/8mil ，过孔选择 12mil（0.3mm），大部分的PCB生产厂商都能生产，并且生产的成本低。

> 2、一般线宽线距控制到 6/6mil ，过孔选择 12mil（0.3mm），大部分的PCB生产厂商都能生产，并且生产的成本低。

> 3、线宽线距最小控制到 4/4mil，过孔选择 8mil（0.2mm），也有一半多的PCB生产厂商都能生产，不过价格会比前面的贵一点。

> 4、线宽线距最小控制到 3.5/3.5mil，过孔选择 8mil（0.2mm），能生产的PCB生产厂商更少了，并且价格也会贵一点。

> 5、线宽线距最小控制到 2/2mil，过孔选择 4mil（0.1mm），许多的pcb生产厂商都生产不了，这种的价格是最高的。

> 6、市电的火线和零线：80-100mil，12V /24V 20mil~60mil，+5V 20-30mil  
> ，+3V 20-30mil，GND 越宽越好20-30mil，普通信号线 10mil-20mil根据元器件密集度自行决定

根据[PCB设计](https://so.csdn.net/so/search?q=PCB%E8%AE%BE%E8%AE%A1&spm=1001.2101.3001.7020)的密度来进行设置线宽的话，密度较小，可设置线宽线距大一点，密度较大，可设置线宽线距小一点：


---

**一般线宽电流公式**

> I=K* T^0.44*A ^0.47

K为修正系数,一般覆铜线在内层时取0.024,在外层时取0.048;  
T为最大温升,单位为℃;  
A为覆铜线的截面积,单位为mil(不是mm,注意) ;  
I为允许的最大电流,单位是A。

![39d19d7789f2117ff2ed5263cfdc6db0.png](https://i0.hdslb.com/bfs/article/20cbf7035a64c2806a654ac87bbf7386394687087.png)

---
**常见线宽过孔直径关系**

> 1）8/8mil，过孔选择12mil（0.3mm）。  
> 2）6/6mil，过孔选择12mil（0.3mm）。  
> 3）4/4mil，过孔选择8mil（0.2mm）。  
> 4）3.5/3.5mil，过孔选择8mil（0.2mm）。  
> 5）3.5/3.5mil，过孔选择4mil（0.1mm，激光打孔）。  
> 6）2/2mil，过孔选择4mil（0.1mm，激光打孔）。  
> 参考过孔：内径12mil、外径20mil  
> 参考内径20mil、外径30mil


### 5.2.2. 走线长度






### 5.2.3. 线的形状

- **依据** ：
    
    - **信号传输性能** ：为了保证信号传输的稳定性和完整性，应尽量避免锐角走线，因为锐角走线会增加线路阻抗，对信号传输不利。应尽量采用圆角或 45 度角走线 。
        
    - **电磁兼容性** ：合理的线的形状和角度可以减少电磁辐射和干扰。例如，将敏感高频线路布设在远离高噪声电源线的位置，且布线尽量短，特别是重要信号线，如时钟线，务必将其振荡器放在离器件很近的地方 。
        
    - **制造工艺** ：制造工艺对线的形状和角度也有一定的要求，需要考虑生产商的工艺能力和设备精度。例如，在一些高精度的 PCB 制造中，可能需要采用特殊的工艺来实现复杂的线的形状和角度。



### 5.2.4. 走线方式
- 依据：








 **差分布线**：对于差分信号（如USB、HDMI、LVDS等），确保差分布线的长度匹配和阻抗连续。






### 5.2.5. 走线间距

- **依据** ：
    
    - **电气安全** ：为了防止电气短路和击穿，需要根据电路的电压等级来确定走线间距。一般的安全间距（最小线间距）设置为 6mil 或根据生产商要求调整 。
        
    - **信号串扰** ：对于高速信号线，为了减少线间串扰，应保证足够的线间距。根据 3W 规则，当线中心距不少于 3 倍线宽时，则可保持 70% 的电场不互相干扰；如要达到 98% 的电场不互相干扰，可使用 10W 规则 。
        
    - **制造工艺** ：与走线宽度类似，制造工艺也会影响走线间距的取值，需要考虑生产商的工艺能力和设备精度。
        
- **取值范围** ：一般最小线间距为 3.5~6mil（约 0.089~0.152mm），在一些高密度布线的电路中，可能会采用更小的间距，但需要确保满足电气安全和信号完整性要求。
    








### 5.2.6. 过孔尺寸

- **依据** ：
    
    - **信号传输** ：过孔的尺寸需要满足信号传输的要求，包括信号的频率、阻抗等特性。对于高速信号，过孔的直径和间距需要尽量小，以减少对信号传输的影响。
        
    - **制造工艺** ：PCB 制造工艺对过孔尺寸有一定的限制，不同的制造工艺和设备精度会影响可实现的最小过孔尺寸。一般来说，常见的过孔直径为 0.3mm~1.0mm 左右 。
        
    - **散热要求** ：在一些大电流或高功率的电路中，过孔还需要考虑散热要求，可能需要增加过孔的尺寸或数量，以提高散热效果。
        
- **取值范围** ：过孔直径一般在 0.3mm~1.0mm 之间，过孔间距一般为 0.5mm~1.5mm 左右，具体取决于上述因素。
    



- **电源和地布线**：确保电源和地平面的完整性，减少电源噪声和地弹效应。










- **走线检查**：检查布线是否符合设计规则，包括线宽、线距、过孔大小、阻抗控制等。

【布线初步检查】
	**1. 布线中的长度控制**：长度控制在 PCB 设计中非常重要。走线应尽可能短，以避免因过长而引入不必要的干扰。对于重要的信号走线，例如时钟信号走线，请确保将其振荡器放置在非常靠近器件的位置。
	![8z8k3.webp](https://i0.hdslb.com/bfs/article/94398ff1c519996c5a84c9313638b1fa394687087.webp)
	**2. 路由中的方向控制**：相邻层的走线方向应正交，避免相邻层的信号走线走向相同方向，减少层间不必要的串扰。
	![n168l.webp](https://i0.hdslb.com/bfs/article/9d16b806bd7f4dd3dee3bd525cb7ca4c394687087.webp)
	**3. 倒角规则**：PCB设计时应避免出现锐角、直角，否则会产生不必要的辐射，导致工艺性能不佳。
	![q5fsr.webp](https://i0.hdslb.com/bfs/article/dfbdc45de58ff1c7da3c0779795a1e2f394687087.webp)
	**4. 路由中的开环检测**：一般情况下，是不允许有悬空线的，这主要是为了==避免“天线效应”==，减少不必要的干扰辐射和接收，否则可能造成严重后果。
	![zb8k5.webp](https://i0.hdslb.com/bfs/article/87cd02898001fb448809728cb3510d19394687087.webp)
	**5. 尽量避免自环路由**：在设计PCB时，要注意信号走线在不同层之间形成自环的情况。特别是在布线多层板时，信号走线在层间走线，形成自环的几率更大。==自环会造成辐射干扰==。
	![r2n60.png](https://i0.hdslb.com/bfs/article/3e9c15902ba74a1cdfdaafaa3fd03ef9394687087.png)
	**6. 接地环路规则**：最小环路规则是指信号走线与其返回路径形成的环路面积应尽可能小，==环路面积越小，其向外发射的辐射越少，受到的外界干扰也越少==。
	![12tr4.webp](https://i0.hdslb.com/bfs/article/6d57da8ba4da50647f9d6d7a0c0517be394687087.webp)
	**7. 电源层和地层完整性规则**：对于过孔密集的区域，应注意避免电源层、地层镂空区域的过孔相互连通，造成平面层分割。这可能会破坏平面层的完整性，并进一步增加接地层中信号走线的环路面积。
	![hezo2.webp](https://i0.hdslb.com/bfs/article/6edffbed9a005686592c3432d4912f59394687087.webp)
	**8.3W 规则**：为了减少走线间的串扰，走线间距应足够大。当走线中心距至少为间距宽度的三倍时，70%的电场不会互相干扰，称为3W规则。要实现98%的电场不互相干扰，可以使用10W间距。
	![mqiah.png](https://i0.hdslb.com/bfs/article/7761490a6688db6eca088ab4d7ab886f394687087.png)
	**9. 屏蔽保护**：屏蔽保护对应于接地环路规则，其实就是尽量减小信号的环路面积。在一些重要的信号中比较常见，比如时钟信号和同步信号。对于一些特别重要的高频信号，应该考虑同轴电缆屏蔽设计。这涉及用四面（顶部、底部、左侧和右侧）的接地线隔离信号线。此外，还必须仔细考虑如何有效地将屏蔽接地连接到实际接地平面。
	![pseeq.webp](https://i0.hdslb.com/bfs/article/84e6e3c1d58cabe292547e570c4dd09c394687087.webp)
	**10. 阻抗匹配检查规则**：同一网络中的走线宽度应保持一致。线宽变化会导致电路特性阻抗不均匀，在传输速度较高时容易产生反射，设计时应尽量避免这种情况。在某些情况下，例如类似于连接器引出线或BGA封装引出线的结构，线宽变化可能是不可避免的，因此应尽量减少不一致部分的有效长度。
	![cejpk.webp](https://i0.hdslb.com/bfs/article/7b6f11b1a1650173030fb66fede8801b394687087.webp)
	**11. 电源层和地层重叠规则**：不同电源层应避免在空间上重叠，以减少不同电源之间的干扰。这对于电压差异较大的电源尤其重要。如果难以避免，请考虑在中间放置接地平面。
	![hxrdt.png](https://i0.hdslb.com/bfs/article/15f8fd50de03ea957b466e7dfc55a5dc394687087.png)
	**12.20H原则**：为了==防止板边辐射==，设计时应将电源层缩回，以H（电源与地之间的介质厚度）为单位，20H的缩回可将70%的电场限制在地层边缘内，100H的缩回可将98%的电场限制在地层边缘内。
	![c92h3.webp](https://i0.hdslb.com/bfs/article/8738da758429caa49fee93f98777a35e394687087.webp)





## 5.3. 布线流程




# 6. PCB 铺铜设计
## 6.1. 铺铜原则


## 6.2. 注意事项


## 6.3. 铺铜流程


- 【参考链接】
	- [搞定PCB铺铜，这篇就够了！（附设计要点详解）-电子工程专辑](https://www.eet-china.com/mp/a370885.html)
# **7. 信号完整性（SI）和电源完整性（PI）分析**

- **SI分析**：使用SI仿真工具（如HyperLynx、SIwave等）进行信号完整性分析，检查信号线的阻抗匹配、串扰、反射等问题。
    
- **PI分析**：使用PI仿真工具（如HyperLynx、PIwave等）进行电源完整性分析，检查电源和地平面的稳定性，减少电源噪声。
    
- **优化设计**：根据SI和PI分析结果，优化布线和布局，确保信号和电源的完整性。





# **8. 电磁兼容性（EMC）分析**

- **EMC分析**：使用EMC仿真工具（如CST、HFSS等）进行电磁兼容性分析，检查PCB的电磁辐射和抗干扰能力。
    
- **优化设计**：根据EMC分析结果，优化布线和布局，确保PCB的电磁兼容性。
    

# **9. 设计规则检查（DRC）和制造规则检查（DFM）**
## 9.1. DRC 检查
- **DRC检查**：使用EDA工具的DRC功能，检查设计是否符合设计规则，包括线宽、线距、过孔大小、阻抗控制等。







## 9.2. DFM 检查

- **DFM检查**：使用DFM（Design for Manufacturing）工具，检查设计是否符合制造要求，包括可制造性、可装配性、可测试性等。
    
- **修复问题**：根据DRC和DFM检查结果，修复设计中的问题，确保设计的可制造性和可靠性。
    

# **10. 输出制造文件**

- **生成Gerber文件**：将PCB设计文件转换为制造用的Gerber文件，包括PCB的层信息、布线信息、元器件信息等。
    
- **生成钻孔文件**：生成钻孔文件，用于制造PCB的钻孔和过孔。
    
- **生成BOM表**：生成元器件清单（BOM表），包括元器件的型号、数量、封装等信息。
    
- **生成装配图**：生成PCB的装配图，用于指导PCB的装配和测试。
    

# **11. 项目归档与文档整理**

- **项目归档**：将PCB设计文件、制造文件、技术文档等进行归档，便于后续的维护和管理。
    
- **文档整理**：整理项目文档，包括设计规范、技术报告、测试报告等，确保文档的完整性和可追溯性。
    

# **12. 制造与测试**


![image.png](https://i0.hdslb.com/bfs/article/a8c7cbcdf1e858140cb88f5e1be0beb1394687087.png)

  

而对于新手而言，第一个版本，不建议直接交给装配工厂或焊接工厂将bom的料全部焊上，这样不便于排查问题。最好的方法就是，根据bom表自己准备好元件。等到板来了之后，一步步上元件、调试。



- **PCB制造**：将制造文件发送给PCB制造商，进行PCB的制造。
    
- **PCB测试**：对制造好的PCB进行测试，包括功能测试、性能测试、可靠性测试等，确保PCB的质量和性能。
    

# **13. 项目总结与优化**

- **项目总结**：对整个项目进行总结，分析项目中的问题和不足，提出改进措施。
    
- **设计优化**：根据项目总结的结果，对PCB设计进行优化，提高设计的质量和性能。