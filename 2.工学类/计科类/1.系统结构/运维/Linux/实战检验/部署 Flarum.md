[ä»“åº“åœ°å€](https://github.com/0xffff-one/flarum-0x)

åŸæ–‡ï¼š[https://www.itnt.xyz/it/11/](https://www.itnt.xyz/it/11/)  


Flarum æ˜¯ä¸€æ¬¾éå¸¸æ£’çš„å¼€æºè®ºå›ç¨‹åºï¼Œåœ¨è¿™é‡Œè®°å½•ä¸‹éå¸¸è¯¦ç»†çš„é€‚ç”¨äºå®å¡”+linux çš„æ­å»ºæ­¥éª¤ï¼Œä¾›ç¯å¢ƒç›¸åŒçš„åŒå¿—ä»¬å‚è€ƒå‚è€ƒã€‚

---

## ä¸€ã€æœåŠ¡å™¨ç¯å¢ƒè¯´æ˜

1. å®å¡” 7.0.3 æˆ–æ›´æ–°ç‰ˆæœ¬
2. Linux Serverï¼ˆæœ¬æ–‡ç”¨çš„æ˜¯ ==CentOs 7.4.6 64ä½==ï¼‰
3. Apache æˆ–è€… Nginxï¼ˆæœ¬æ–‡ç”¨çš„æ˜¯ Nginx 1.16.0ï¼‰
4. MySQL 5.6+ï¼ˆæœ¬æ–‡ä½¿ç”¨ MySQL 5.7ï¼ŒåŸå› è¯·çœ‹ä¸‹æ–¹å¼•ç”¨ï¼‰
5. PHP 7.1+ï¼ˆæœ¬æ–‡ PHP-7.3ï¼‰
6. phpMyAdmin 4.7

> MySQL è‡ª 5.7 å¼€å§‹æ”¯æŒ FULLTEXT ä¸­æ–‡æœç´¢ï¼Œåç»­æ–¹ä¾¿æˆ‘ä»¬ä¼˜åŒ– Flarum è®ºå›çš„ä¸­æ–‡å…³é”®è¯æœç´¢ã€‚

---

## äºŒã€å®‰è£…å®å¡” Linux é¢æ¿

ä½¿ç”¨ SSH å·¥å…·ï¼ˆ[æŸ¥çœ‹ä½¿ç”¨æ–¹æ³•](https://www.bt.cn/bbs/thread-1971-1-1.html)ï¼‰ï¼Œæ‰§è¡Œå‘½ä»¤å¼€å§‹å®‰è£…ï¼ˆå¤§çº¦2åˆ†é’Ÿå®Œæˆé¢æ¿å®‰è£…ï¼‰ã€‚

**Centoså®‰è£…å®å¡”é¢æ¿å‘½ä»¤ï¼š**

`yum install -y wget && wget -O install.sh http://download.bt.cn/install/install_6.0.sh && sh install.sh`

æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼Œè¯¢é—®æ˜¯å¦å®‰è£…ï¼Œå›ç­” â€œ y â€

```ad-note
title:é—®é¢˜é›†
- Ubuntuæ²¡æœ‰yumç»„ä»¶
[Linux(Ubuntuç³»ç»Ÿ)å®‰è£…yumåŠæºçš„æ›´æ–°(è¯¦ç»†æ“ä½œ+æ–‡å­—æè¿°ï¼ï¼ï¼)_ubuntu å®‰è£…yumæº-CSDNåšå®¢](https://blog.csdn.net/qq_45261963/article/details/117520995)
- yumï¼šThere are no enabled repos
[Ubuntué…ç½®yumä»“åº“](https://kimi.moonshot.cn/share/css7149mqu00462kh4u0)
```



[](https://s1.ax1x.com/2020/10/15/0ThQjU.png)![](https://s1.ax1x.com/2020/10/15/0ThQjU.png)

å®‰è£…å®Œæˆä¼šæ‰“å°è¿™äº›ä¸œè¥¿ï¼ˆé¢æ¿ ip åœ°å€ã€ç”¨æˆ·åã€å¯†ç ï¼‰ï¼š

[](https://s1.ax1x.com/2020/10/15/0Th4KS.png)![](https://s1.ax1x.com/2020/10/15/0Th4KS.png)

å›¾æºï¼šå®å¡”é¢æ¿

---

## ä¸‰ã€å®‰è£… LNMP ç¯å¢ƒ

æµè§ˆå™¨è¾“å…¥å®å¡”é¢æ¿çš„ ip åœ°å€ã€‚ç™»é™†è´¦å·ï¼Œè¿›å…¥é¢æ¿ã€‚

> é¦–æ¬¡è¿›å…¥é¢æ¿ï¼Œåœ¨å¼¹å‡ºçš„â€œæ¨èå®‰è£…å¥—ä»¶â€çª—å£ä¸­é€‰æ‹©å·¦ä¾§çš„**ã€ŒLNMP æé€Ÿå®‰è£…ã€**

é€‰æ‹©å¥½ PHP ç­‰ç¯å¢ƒçš„ç‰ˆæœ¬å·ï¼Œç‚¹å‡»ä¸€é”®å®‰è£…åï¼Œä¼šå¼¹å‡ºæ¶ˆæ¯ç›’å­ï¼Œç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæ¯•å³å¯ã€‚

[](https://s1.ax1x.com/2020/10/15/0T4uad.png)![](https://s1.ax1x.com/2020/10/15/0T4uad.png)

> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ LNMP å®‰è£…å®Œæˆä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£…ä¸€äº› PHP çš„æ‰©å±•ï¼ˆexif / fileinfoï¼‰ï¼Œå…¶ä¸­ fileinfo æ˜¯å¿…é¡»çš„ï¼Œå¦åˆ™ä¸‹é¢ Flarum ä¼šå®‰è£…å¤±è´¥ã€‚exif æ˜¯å›¾ç‰‡ä¸Šä¼ æ‰€éœ€çš„æ‰©å±•ã€‚

è¿›å…¥å®å¡”é¢æ¿ â€“ ã€è½¯ä»¶å•†åº—ã€‘ â€“ ã€å·²å®‰è£…ã€‘ï¼Œç‚¹å‡» PHP è®¾ç½®ã€‚

[](https://s1.ax1x.com/2020/10/15/0T4NZQ.png)![](https://s1.ax1x.com/2020/10/15/0T4NZQ.png)

é€‰æ‹©ã€å®‰è£…æ‰©å±•ã€‘ï¼Œå®‰è£… fileinfoï¼ˆopcacheã€exif éå¿…é€‰ï¼‰ã€‚

ç­‰å¾…å®‰è£…å®Œæ¯•ã€‚

[](https://s1.ax1x.com/2020/10/15/0T40Gq.png)![](https://s1.ax1x.com/2020/10/15/0T40Gq.png)  
ã€€

---

## å››ã€å®‰è£… Composer

### 4.1 æ›´æ–°æœåŠ¡å™¨è½¯ä»¶åŒ…

ä½¿ç”¨ SSH æ‰§è¡Œä¸‹æ–¹å‘½ä»¤ï¼š

`yum update -y`

æ›´æ–°å®Œå·¦ä¸‹è§’ä¼šæç¤º â€œ Complete! â€

[](https://s1.ax1x.com/2020/10/15/0T42dJ.png)![](https://s1.ax1x.com/2020/10/15/0T42dJ.png)

### 4.2 è§£é™¤ PHP å‡½æ•°ç¦ç”¨

_æ­¤æ­¥éª¤ä»…é€‚ç”¨äºå®å¡”é¢æ¿ç”¨æˆ·ï¼Œå¦‚æ‚¨ç›´æ¥ä½¿ç”¨ OneinStack ä¸€é”®å®‰è£…æœåŠ¡å™¨ç¯å¢ƒï¼Œè¯·**è·³è¿‡æ­¤æ­¥**ã€‚_

> å®å¡”é¢æ¿é»˜è®¤ç¦ç”¨ä¸€äº›å®‰è£… Composer è¦ç”¨åˆ°çš„ 3 ä¸ªå‡½æ•°Â `putenv()`Â ã€Â `pcntl_signal()`Â ã€Â `proc_open()`ï¼Œæˆ‘ä»¬éœ€è¦**è§£é™¤ç¦ç”¨**ï¼Œå¦åˆ™å¯¼è‡´æ­¥éª¤ 4.3 Composer å˜æ›´æºåœ°å€æ—¶æŠ¥é”™ã€æ­¥éª¤ 5.3 Composer å®‰è£… Flarum æ—¶æŠ¥é”™ã€‚

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿›å…¥å®å¡”é¢æ¿ï¼Œæ‰“å¼€ PHP è®¾ç½®ï¼Œåœ¨ã€ç¦ç”¨å‡½æ•°ã€‘ä¸­ï¼Œåˆ é™¤Â `putenv`Â ã€Â `pcntl_signal`Â ä»¥åŠÂ `proc_open`

[](https://s1.ax1x.com/2020/10/15/0T5SQf.png)![](https://s1.ax1x.com/2020/10/15/0T5SQf.png)

è‹¥æ‚¨ä¸å–æ¶ˆè¿™ä¸‰ä¸ªå‡½æ•°çš„ç¦ç”¨ï¼Œåˆ™ä¼šå‡ºç°ä»¥ä¸‹é—®é¢˜ï¼š

1.   
    [](https://s1.ax1x.com/2020/10/15/0T5dmD.png)![](https://s1.ax1x.com/2020/10/15/0T5dmD.png)
2.   
    [](https://s1.ax1x.com/2020/10/15/0T5sfI.png)![](https://s1.ax1x.com/2020/10/15/0T5sfI.png)
3.   
    [](https://s1.ax1x.com/2020/10/15/0T5g6f.png)![](https://s1.ax1x.com/2020/10/15/0T5g6f.png)

### 4.3 å®‰è£… Composer

ä½¿ç”¨ SSH ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

ã€€ã€€ã€€# ï¼ˆæ­¤æ­¥éª¤å¯çœç•¥ï¼‰è¿›å…¥å½“å‰ç”¨æˆ·å®¶ç›®å½•

1. `cd`
    

ã€€ã€€ã€€# å°†å®‰è£…è„šæœ¬ä¸‹è½½åˆ°å½“å‰ç›®å½•

2. `php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"`
    

ã€€ã€€ã€€# è¿è¡Œå®‰è£…è„šæœ¬

3. `php composer-setup.php --install-dir=bin --filename=composer`
    

ã€€ã€€ã€€# åˆ é™¤å®‰è£…è„šæœ¬

4. `php -r "unlink('composer-setup.php');"`
    

> ç”±äº Composer çš„æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œå¯èƒ½å¯¼è‡´ä¸‹è½½ Flarum å·²ç»ä¾èµ–åŒ…ä¼šå¾ˆæ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ›´æ¢ä¸€ä¸‹æºåœ°å€ã€‚è‡³äº Composer æ˜¯å•¥ï¼Œå…¶å®å°±æ˜¯ PHP çš„ä¸€ä¸ªåŒ…ç®¡ç†ï¼Œç±»ä¼¼ Java çš„ Maven å’Œ Gradle å·¥å…·ã€‚  
> [â€”â€”å¼•ç”¨è‡ª ryanc.cc](https://ryanc.cc/archives/flarum-install-and-config)

ã€€ã€€ã€€# å˜æ›´å…¨å±€èŒƒå›´å†…çš„ Composer æœåŠ¡å™¨åœ°å€ï¼šï¼ˆå¦‚æœæ‚¨ç¦ç”¨äº†  
putenv() å‡½æ•°ï¼Œä¼šå¯¼è‡´æ­¤å‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼‰ã€‚å°† composer æºæ”¹æˆ[é˜¿é‡Œäº‘çš„é•œåƒ](https://developer.aliyun.com/composer)

5. `composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/`
    

---

## äº”ã€å®‰è£… Flarum

### 5.0 è®¾ç½®è®¾ç½®PHPé…ç½®æ–‡ä»¶ï¼š

æœ€å¤§è„šæœ¬è¿è¡Œæ—¶é—´ï¼ˆmax_execution_timeï¼‰ï¼š600  
è„šæœ¬å†…å­˜é™åˆ¶ï¼ˆmemory_limitï¼‰ï¼š512M æˆ– 1024M

### 5.1 æ–°å»ºå­˜æ”¾ Flarum çš„ç½‘ç«™

å‰å¾€å®å¡”é¢æ¿ â€“ ã€ç½‘ç«™ã€‘ â€“ ã€æ·»åŠ ç«™ç‚¹ã€‘ï¼ŒåŒæ—¶åˆ›å»ºç”¨äº Flarum çš„æ•°æ®åº“ã€‚æœ€åæäº¤ã€‚

> åŠ¡å¿…æ³¨æ„ï¼æ•°æ®åº“å­—ç¬¦é›†ä¸€å®šè¦æ˜¯ utf8mb4ï¼Œè‡³äºä¸ºä»€ä¹ˆæ˜¯ utf8mb4ï¼Œå‚è€ƒï¼š  
> [https://www.jianshu.com/p/6967ce16a202](https://www.jianshu.com/p/6967ce16a202)

### 5.2 é…ç½® SSL è¯ä¹¦

æ‰“å¼€ç«™ç‚¹è®¾ç½®ï¼Œè¿›å…¥ SSL é€‰é¡¹å¡é¡µé¢ï¼ŒæŒ‘é€‰æ‚¨æƒ³è¦é…ç½®çš„å®‰å…¨è¯ä¹¦æ–¹å¼ï¼š

- [å®å¡”ä¸€é”® SSL](https://www.bt.cn/ssl)ï¼ˆä¸€å¹´è¯ä¹¦å…è´¹ç”³è¯·ï¼Œéœ€è¦ç™»å½•å®å¡”è´¦å·å¹¶å®åè®¤è¯ï¼‰
- [Letâ€™s Encrypt ä¸‰ä¸ªæœˆå…è´¹è¯ä¹¦](https://blog.csdn.net/msllws/article/details/82255078)
- [å·²æœ‰è¯ä¹¦æ–‡ä»¶ï¼Œä¸Šä¼ è‡³å®å¡”](https://yq.aliyun.com/articles/705391)

é…ç½®å®Œæˆåï¼Œè¯·æ³¨æ„å¼€å¯ â€œ å¼ºåˆ¶ HTTPS â€ï¼å¦åˆ™åœ¨ 6.2 æ­¥éª¤ä¸­æ— æ³•æ­£å¸¸è®¿é—®ç½‘ç«™

### 5.3 ä¸‹è½½ Flarum

> å› ä¸º Flarum è¦æ±‚å®‰è£…ç›®å½•å¿…é¡»æ˜¯ç©ºç›®å½•ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦åˆ é™¤åˆšåˆšæ–°å»ºçš„ç½‘ç«™ç›®å½•é‡Œçš„æ‰€æœ‰æ–‡ä»¶ã€‚

åœ¨ SSH ä¸­æ‰§è¡Œï¼š

ã€€ã€€ã€€# è¿›å…¥ç½‘ç«™ç›®å½•ã€‚æ³¨æ„ç½‘ç«™ç›®å½•æ¯ä¸ªäººéƒ½ä¸ä¸€æ ·ï¼è®°å¾—æ›¿æ¢ï¼

1. `cd /www/wwwroot/example.com`
    

ã€€ã€€ã€€# è§£é™¤ .user.ini çš„æ–‡ä»¶é”å®šï¼Œå¦åˆ™è¯¥æ–‡ä»¶æ— æ³•è¢«åˆ é™¤

2. `chattr -i .user.ini`
    

> ç„¶ååœ¨å®å¡”é¢æ¿ä¸­ï¼ˆæˆ–è€…åœ¨ FTP ä¸­ï¼‰åˆ é™¤ç½‘ç«™ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚

ã€€ã€€ã€€# ç¡®ä¿è¿›å…¥ç½‘ç«™ç›®å½•æ‰§è¡Œï¼ˆ[å‰é¢ä¹Ÿæåˆ°äº†](https://discuss.flarum.org.cn/d/2195#title-4.2)ï¼Œè‹¥æ‚¨ç¦ç”¨äº†`pcntl_signal()`Â å‡½æ•°å’ŒÂ `proc_open()`Â å‡½æ•°ï¼Œæ­¤æ­¥æ‰§è¡Œä¼šå‡ºé”™ï¼‰

3. `composer create-project flarum/flarum .`
    

æ‰§è¡ŒæˆåŠŸåä¼šä¸‹è½½ Flarum å¹¶æ›´æ–°ä¾èµ–åŒ…ã€‚æ›´æ–°ä¾èµ–åŒ…ä¼šæ ¹æ®æœåŠ¡å™¨åœ°ç†ä½ç½®èŠ±è´¹ åå‡ ç§’ è‡³ ä¸‰ååˆ†é’Ÿ ä¸ç­‰çš„æ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚

Flarum ä»¥åŠå¯¹åº”çš„ä¾èµ–å®‰è£…å®Œæˆåº”è¯¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š

[](https://s1.ax1x.com/2020/10/16/0HJsts.png)![](https://s1.ax1x.com/2020/10/16/0HJsts.png)  
ã€€

---

## å…­ã€é…ç½®è¿è¡Œ

> ä¸Šé¢å…¶å®å°±å·²ç»å®‰è£…å¥½äº† Flarumï¼Œä½†æ˜¯è¿˜éœ€è¦è¿›ä¸€æ­¥é…ç½®æ‰èƒ½æ­£ç¡®è¿è¡Œã€‚

### 6.1 ä¿®æ”¹ Nginx é…ç½®

è¿›å…¥å®å¡”é¢æ¿ï¼Œæ‰“å¼€ç«™ç‚¹è®¾ç½®ï¼Œä¿®æ”¹ç½‘ç«™é…ç½®æ–‡ä»¶ï¼š(å¯å¯¹ç…§ä¸‹å›¾ä¿®æ”¹)

1. **root**ï¼šéœ€è¦åœ¨è·¯å¾„åé¢åŠ ä¸ŠÂ `public`ï¼Œæ¯”å¦‚åŸæœ¬æ˜¯Â `root /www/wwwroot/example.com;`ï¼Œéœ€è¦ä¿®æ”¹ä¸ºÂ `root /www/wwwroot/example.com/public;`ã€‚
    
2. å¼•å…¥ Flarum æä¾›çš„ä¼ªé™æ€é…ç½®ï¼Œåœ¨Â `server name`Â ä¸‹æ–¹åŠ ä¸ŠÂ `include /www/wwwroot/example.com/.nginx.conf;`ï¼Œç½‘ç«™ç›®å½•ä¸è¦å¿˜è®°æ›´æ¢æˆè‡ªå·±çš„ã€‚
    

[](https://s1.ax1x.com/2020/10/29/BG8Nzd.png)![](https://s1.ax1x.com/2020/10/29/BG8Nzd.png)

ä¿®æ”¹ç«™ç‚¹é…ç½®ï¼Œåˆ«å¿˜è®°ä¿å­˜

### 6.2 æ£€æŸ¥ Nginx é…ç½®

ä¿®æ”¹å®Œä¸Šä¸€æ­¥çš„é…ç½®ï¼Œåœ¨ç‚¹å‡»ä¿å­˜æ—¶ï¼Œå®å¡”ä¼šè‡ªåŠ¨æ£€æŸ¥ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œä¼šä¿å­˜å¤±è´¥å¹¶å¼¹çª—æç¤ºã€‚  
ã€€

---

## ä¸ƒã€Flarum å®‰è£…å¼•å¯¼

åœ¨æµè§ˆå™¨ä¸­è®¿é—®å®‰è£… Flarum çš„ç«™ç‚¹ç½‘å€ã€‚

å¯ä»¥çœ‹åˆ°å‡ºç°ä¸‹é¢çš„æƒ…å†µï¼š

[](https://s1.ax1x.com/2020/10/15/0T7BKP.png)![](https://s1.ax1x.com/2020/10/15/0T7BKP.png)

> è¿™æ˜¯å› ä¸ºæ²¡æœ‰ç»™äºˆç½‘ç«™ç›®å½•å†™å…¥çš„æƒé™ï¼Œæˆ‘ä»¬åŠ ä¸€ä¸‹æƒé™å³å¯ï¼š

å‰å¾€å®å¡”é¢æ¿ï¼Œç‚¹å‡»å·¦ä¾§ã€æ–‡ä»¶ã€‘ï¼Œï¼ˆæˆ–è€…ä½¿ç”¨ SSH å·¥å…·ï¼‰è¿›å…¥Â `/www/wwwroot`Â ç›®å½•ã€‚

å³å‡»æ‚¨çš„ç«™ç‚¹ç›®å½•ï¼Œé€‰æ‹©ã€æƒé™ã€‘ï¼Œæƒé™ä¿®æ”¹ä¸º 755 æƒé™å¹¶ä¿å­˜ã€‚ä¸è¦å¿˜è®°å‹¾é€‰ â€œ åº”ç”¨åˆ°å­ç›®å½• â€ã€‚

æ¥ç€åˆ·æ–°ä¸€ä¸‹è®ºå›ç½‘é¡µå°±å¥½äº†ï¼Œæ ¹æ®å›¾ç‰‡æç¤ºå¡«å†™å¥½è®ºå›ä¿¡æ¯ã€‚`æ•°æ®åº“å`ã€`æ•°æ®åº“ç”¨æˆ·å`ã€`æ•°æ®åº“å¯†ç `éƒ½å¯ä»¥åœ¨å®å¡”é¢æ¿æŸ¥çœ‹ã€‚

[](https://s1.ax1x.com/2020/10/15/0THoQI.png)![](https://s1.ax1x.com/2020/10/15/0THoQI.png)

å¡«å†™å®Œæ•°æ®åº“ä¿¡æ¯ã€ç®¡ç†å‘˜ä¿¡æ¯ï¼Œç‚¹å‡»å®‰è£…å³å¯ã€‚  
å®‰è£…éƒ¨ç½²éƒ¨åˆ†åˆ°æ­¤ç»“æŸã€‚  
ã€€

---

## å…«ã€å¸¸ç”¨æ’ä»¶å®‰è£…

> å®‰è£…å®Œæˆåä¼šå‘ç°ä¸æ”¯æŒä¸­æ–‡ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…ã€‚è¿˜æœ‰ä¸€äº›å¸¸ç”¨çš„æ’ä»¶ã€‚æ›´å¤šæ’ä»¶ï¼Œè¯·å‰å¾€[æ’ä»¶æ ‡ç­¾](https://iflarum.cn/exts)æŸ¥çœ‹ã€‚

ã€€ã€€ã€€# xxx ä¸ºç½‘ç«™ç›®å½•åç§°ï¼Œå› ä¸ºå®‰è£…æ’ä»¶éœ€åœ¨ Flarum æ ¹ç›®å½•æ‰§è¡Œã€‚

`cd /data/wwwroot/xxx`

ã€€ã€€ã€€#Â [ç®€ä½“ä¸­æ–‡è¯­è¨€åŒ…](https://discuss.flarum.org.cn/d/1211)

ã€€ã€€ã€€#Â [ç¼–è¾‘å™¨ Emoji è¡¨æƒ…é€‰æ‹©æ¡†](https://discuss.flarum.org.cn/d/1213)

ã€€ã€€ã€€# å¯¼[èˆªæ èœå•æ’ä»¶](https://discuss.flarum.org.cn/d/1350)

ã€€ã€€ã€€#Â [æ˜¾ç¤ºå¸–å­é˜…è¯»æ¬¡æ•°](https://discuss.flarum.org.cn/d/1283)

ã€€ã€€ã€€#Â [è®ºå›ç”¨æˆ·åå½•](https://discuss.flarum.org.cn/d/1256)

ã€€ã€€ã€€#Â [ä¸Šä¼ æ–‡ä»¶](https://discuss.flarum.org.cn/d/1292/28)

ã€€ã€€ã€€#Â [Sitemap ï¼ˆç½‘ç«™åœ°å›¾ï¼‰ç”Ÿæˆå™¨](https://discuss.flarum.org.cn/d/1563)

ã€€ã€€ã€€#Â [Fancybox å›¾ç‰‡ç¯ç®±ï¼ˆæ”¾å¤§ï¼‰æ’ä»¶](https://discuss.flarum.org.cn/d/1526)

å®‰è£…å®Œæˆåå»åå°å¯ç”¨å³å¯ï¼ˆåå°åœ°å€ï¼šç½‘å€/adminï¼‰ã€‚

[](https://s1.ax1x.com/2020/10/15/0TbINF.png)![](https://s1.ax1x.com/2020/10/15/0TbINF.png)


ä»¥ä¸‹æ˜¯ä»¥ **Markdown è¡¨æ ¼å½¢å¼** å¯¹ Flarum æ’ä»¶çš„åˆ†ç±»æ•´ç†ï¼Œæ¶µç›–æ ¸å¿ƒåŠŸèƒ½ã€ç¬¬ä¸‰æ–¹é›†æˆã€ä¸»é¢˜ç¾åŒ–ç­‰ç»´åº¦ï¼š

---

### ğŸ”§ æ ¸å¿ƒåŠŸèƒ½æ’ä»¶

| æ’ä»¶åç§° | åŠŸèƒ½æè¿° | åŸç”Ÿæ”¯æŒ |
|---------|----------|----------|
| Approval | å®¡æ ¸æœºåˆ¶ï¼Œè®¾ç½®ç”¨æˆ·ç»„æ— éœ€å®¡æ ¸ç›´æ¥å‘å¸ƒ | âœ… |
| BBCode | åŸºç¡€ BBCode æ ‡è®°è¯­è¨€æ”¯æŒ | âœ… |
| Emoji | åŸç”Ÿ Emoji é€‰æ‹©å™¨ï¼ˆå…¶ä»–æ’ä»¶ä¾èµ–é¡¹ï¼‰ | âœ… |
| Flags | å¸–å­ä¸¾æŠ¥åŠŸèƒ½ï¼ˆæ•æ„Ÿè¯è¿‡æ»¤å‰æï¼‰ | âœ… |
| Likes | ç‚¹èµåŠŸèƒ½ | âœ… |
| Lock | ä¸»é¢˜é”å®šï¼Œç¦æ­¢å›å¤ | âœ… |
| Markdown | Markdown åŸºç¡€è¯­æ³•æ”¯æŒ | âœ… |
| Mentions | @æåŠåŠŸèƒ½ | âœ… |
| Pusher | å®æ—¶æ¨é€æ–°ä¸»é¢˜/å›å¤ï¼ˆå®æ—¶èŠå¤©å‰æï¼‰ | âœ… |
| Statistics | ä»ªè¡¨ç›˜ç»Ÿè®¡å›¾è¡¨ï¼ˆæ— éœ€é¢å¤–ä¸‹è½½ï¼‰ | âœ… |
| Sticky | ç½®é¡¶å¸–å­ | âœ… |
| Subscriptions | è®¢é˜…ä¸»é¢˜å¹¶æ¥æ”¶é€šçŸ¥ | âœ… |
| Suspend | å…³é—­è®¨è®ºï¼ˆç¦æ­¢å›å¤ï¼‰ | âœ… |
| Tags | èŠ‚ç‚¹/æ ‡ç­¾ç®¡ç† | âœ… |

---

### ğŸŒ ç¬¬ä¸‰æ–¹é›†æˆæ’ä»¶

| æ’ä»¶åç§° | åŠŸèƒ½æè¿° | åŸç”Ÿæ”¯æŒ |
|---------|----------|----------|
| ACG Embed | åµŒå…¥ Bilibili/AcFun è§†é¢‘ | âŒ |
| Analytics | é›†æˆ Google Analytics å’Œ Piwik | âŒ |
| Author Change | ç®¡ç†å‘˜ä¿®æ”¹å¸–å­ä½œè€… | âŒ |
| Bazaar | æ’ä»¶å¸‚åœºï¼ˆæ— éœ€ Composer å®‰è£…ï¼‰ | âŒ |
| Doorman | é‚€è¯·ç æ³¨å†Œæœºåˆ¶ | âŒ |
| Flagrow Direct Links | é€šè¿‡ URL æ‰“å¼€ç™»å½•/æ³¨å†Œ/ç¼–è¾‘ç•Œé¢ | âŒ |
| Flagrow Sitemap | ç”Ÿæˆç«™ç‚¹åœ°å›¾ | âŒ |
| FoF Default User Preferences | æ–°ç”¨æˆ·é»˜è®¤å¼€å¯é‚®ä»¶é€šçŸ¥ | âŒ |
| FoF Filter | æ•æ„Ÿè¯è¿‡æ»¤ï¼ˆå®¡æ ¸åå…¬å¼€ï¼‰ | âŒ |
| FoF Formatting | è‡ªåŠ¨è¯†åˆ«é“¾æ¥å¹¶åµŒå…¥åª’ä½“ | âŒ |
| FoF Linguist | è‡ªå®šä¹‰å¤šè¯­è¨€ç¿»è¯‘ | âŒ |
| FoF Pages | è‡ªå®šä¹‰ HTML é¡µé¢ | âŒ |
| FoF Pretty Mail | è‡ªå®šä¹‰é‚®ä»¶æ¨¡æ¿æ ·å¼ | âŒ |
| FoF Prevent Necrobumping | é˜²æ­¢æŒ–åŸï¼ˆè¶…æ—¶ä¸»é¢˜æé†’ï¼‰ | âŒ |
| FoF Spamblock | æ ‡è®°åƒåœ¾ç”¨æˆ· | âŒ |
| FoF Subscribed | ç®¡ç†å‘˜æ¥æ”¶æ–°ä¸»é¢˜/æ–°ç”¨æˆ·é€šçŸ¥ | âŒ |
| PWA | æ¸è¿›å¼ Web åº”ç”¨æ”¯æŒ | âŒ |
| SEO | æœç´¢å¼•æ“ä¼˜åŒ– | âŒ |
| Web Push Notification | OneSignal æ¨é€é€šçŸ¥ | âŒ |

---

### ğŸ’¬ ç”¨æˆ·äº’åŠ¨æ’ä»¶

| æ’ä»¶åç§°                        | åŠŸèƒ½æè¿°             | åŸç”Ÿæ”¯æŒ |
| --------------------------- | ---------------- | ---- |
| Announce                    | é¡¶éƒ¨å…¬å‘Šæ é€šçŸ¥          | âŒ    |
| Back to Top                 | è¿”å›é¡¶éƒ¨æŒ‰é’®           | âŒ    |
| Color Circles               | ç”¨æˆ·ç»„å¤´åƒæè¾¹          | âŒ    |
| Rainbow Comic Sans          | åŠ¨æ€å½©è™¹æ–‡å­—ç‰¹æ•ˆ         | âŒ    |
| Diff                        | å¸–å­ç¼–è¾‘è®°å½•è¿½è¸ª         | âŒ    |
| Discussion Views            | ä¸»é¢˜æµè§ˆæ¬¡æ•°ç»Ÿè®¡         | âŒ    |
| Emoji Picker                | å¢å¼ºå‹ Emoji é€‰æ‹©å™¨    | âŒ    |
| FancyBox                    | å›¾ç‰‡æ”¾å¤§ä¸æ’ç‰ˆä¼˜åŒ–        | âŒ    |
| Flagrow Ads                 | å¹¿å‘Šä½ç®¡ç†ï¼ˆé¦–é¡µ/æ¥¼å±‚é—´ï¼‰    | âŒ    |
| FoF Best Answer             | æœ€ä½³ç­”æ¡ˆåŠŸèƒ½ï¼ˆç±»ä¼¼ç™¾åº¦çŸ¥é“ï¼‰   | âŒ    |
| FoF ByÅbu                   | ç§å¯†ä¸»é¢˜ï¼ˆæŒ‡å®šç”¨æˆ·å¯è§ï¼‰     | âŒ    |
| FoF Drafts                  | è‰ç¨¿ç®±åŠŸèƒ½            | âŒ    |
| FoF Follow Tags             | è®¢é˜…æ ‡ç­¾æ›´æ–°é€šçŸ¥         | âŒ    |
| FoF Forum Statistics Widget | é¦–é¡µç»Ÿè®¡ä¿¡æ¯å±•ç¤º         | âŒ    |
| FoF Gamification            | æ›¿ä»£ç‚¹èµæŒ‰é’®ï¼ˆæ”¯æŒè¸©ï¼‰      | âŒ    |
| FoF GeoIP                   | è®°å½•å‘å¸– IP åœ°å€       | âŒ    |
| FoF Links                   | è‡ªå®šä¹‰å¯¼èˆªæ é“¾æ¥         | âŒ    |
| FoF Merge Discussions       | åˆå¹¶ä¸»é¢˜åŠŸèƒ½           | âŒ    |
| FoF Night Mode              | å¤œé—´/æ—¥é—´æ¨¡å¼åˆ‡æ¢        | âŒ    |
| FoF Polls                   | å¸–å­å†…æŠ•ç¥¨åŠŸèƒ½          | âŒ    |
| FoF Profile Image Crop      | å¤´åƒè£å‰ªåŠŸèƒ½           | âŒ    |
| FoF Reactions               | è¡¨æƒ…æˆ³åŠŸèƒ½ï¼ˆéç‚¹èµï¼‰       | âŒ    |
| FoF Share Social            | ç¤¾äº¤åˆ†äº«æŒ‰é’®           | âŒ    |
| FoF Social Profile          | ç”¨æˆ·èµ„æ–™é¡µæ·»åŠ ç¤¾äº¤åª’ä½“é“¾æ¥    | âŒ    |
| FoF Split                   | æ‹†åˆ†ä¸»é¢˜ä¸ºæ–°è®¨è®º         | âŒ    |
| FoF Terms                   | æ³¨å†Œæ—¶ç”¨æˆ·æ¡æ¬¾ç¡®è®¤        | âŒ    |
| FoF Upload                  | å…è®¸ä¸Šä¼ å›¾ç‰‡/è§†é¢‘/æ–‡ä»¶     | âŒ    |
| FoF User Bio                | ä¸ªæ€§ç­¾ååŠŸèƒ½           | âŒ    |
| FoF User Directory          | ç”¨æˆ·åå•å±•ç¤º           | âŒ    |
| FoF Username Request        | ç”¨æˆ·åä¿®æ”¹ç”³è¯·          | âŒ    |
| FoF reCAPTCHA               | è°·æ­ŒéªŒè¯ç é˜²æ¶æ„æ³¨å†Œ       | âŒ    |
| Link Decisions              | å¤–é“¾æ‰“å¼€æ–¹å¼é€‰æ‹©         | âŒ    |
| Mailing                     | é‚®ä»¶ç¾¤å‘åŠŸèƒ½           | âŒ    |
| Money                       | ç”¨æˆ·èµ„äº§ç³»ç»Ÿï¼ˆå‘å¸–å¥–åŠ±ï¼‰     | âŒ    |
| Online Users                | åœ¨çº¿ç”¨æˆ·å±•ç¤º           | âŒ    |
| Password Strength Indicator | å¯†ç å¼ºåº¦æ£€æµ‹           | âŒ    |
| Post Date                   | ä¿®æ”¹å¸–å­å‘å¸ƒæ—¶é—´         | âŒ    |
| Profile Views               | ç”¨æˆ·æœ€è¿‘è®¿å®¢è®°å½•         | âŒ    |
| ReFlar Cookie Consent       | Cookie åŒæ„æ¨ªå¹…      | âŒ    |
| ReFlar Level Ranks          | ç»éªŒç­‰çº§ç³»ç»Ÿ           | âŒ    |
| NeonChat                    | åœ¨çº¿èŠå¤©å®¤ï¼ˆä¾èµ– Pusherï¼‰ | âŒ    |
| Show Last Posts             | æ˜¾ç¤ºæœ€æ–°å›å¤å†…å®¹         | âŒ    |
| Show Password               | æ³¨å†Œ/ç™»å½•æ—¶æ˜¾ç¤ºå¯†ç        | âŒ    |
| Sign Up Button              | æœªç™»å½•æ—¶æ›¿æ¢å‘å¸ƒæŒ‰é’®ä¸ºæ³¨å†Œ    | âŒ    |
| Status                      | ç”¨æˆ·å¿ƒæƒ…çŠ¶æ€           | âŒ    |

---

### ğŸ§© å†…å®¹æ ¼å¼åŒ–æ’ä»¶

| æ’ä»¶åç§° | åŠŸèƒ½æè¿° | åŸç”Ÿæ”¯æŒ |
|---------|----------|----------|
| BBCode Alerts & Notifications | æ’å…¥æç¤ºæ¡†/è­¦å‘Šæ¡† | âŒ |
| BBCode FA | æ’å…¥ FontAwesome å›¾æ ‡ | âŒ |
| FoF BBCode Tabs | æ’å…¥æ ‡ç­¾é€‰é¡¹å¡å†…å®¹ | âŒ |
| BBBBcode | æ‰©å±• BBCode æ ·å¼ | âŒ |
| Login 2 See | ç™»å½•åå¯è§å†…å®¹ | âŒ |
| Reply 2 See | å›å¤åå¯è§å†…å®¹ | âŒ |

---

### ğŸ” ç™»å½•è®¤è¯æ’ä»¶

| æ’ä»¶åç§° | åŠŸèƒ½æè¿° | åŸç”Ÿæ”¯æŒ |
|---------|----------|----------|
| FoF Discord Login | Discord è´¦å·ç™»å½• | âŒ |
| GitHub Login | GitHub è´¦å·ç™»å½• | âœ… |
| Google Login | Google è´¦å·ç™»å½• | âŒ |
| WeChat Login | å¾®ä¿¡è´¦å·ç™»å½• | âŒ |
| Steam Login | Steam è´¦å·ç™»å½• | âŒ |

---

### ğŸ¨ ä¸»é¢˜ç¾åŒ–æ’ä»¶

| æ’ä»¶åç§° | åŠŸèƒ½æè¿° | åŸç”Ÿæ”¯æŒ |
|---------|----------|----------|
| Stargazing Theme | è§‚æ˜Ÿä¸»é¢˜ï¼ˆæš—è‰²ç³»ï¼‰ | âŒ |

---

### ğŸ“Œ ä½¿ç”¨å»ºè®®

1. **å¿…è£…æ ¸å¿ƒæ’ä»¶**ï¼š  
   - `Approval`ï¼ˆå®¡æ ¸ï¼‰ã€`Flags`ï¼ˆä¸¾æŠ¥ï¼‰ã€`FoF Filter`ï¼ˆæ•æ„Ÿè¯ï¼‰ã€`FoF Upload`ï¼ˆä¸Šä¼ ï¼‰ã€`FoF Linguist`ï¼ˆå¤šè¯­è¨€ï¼‰ã€‚

2. **ç¤¾åŒºè¿è¥æ¨è**ï¼š  
   - `FoF Best Answer`ï¼ˆæœ€ä½³ç­”æ¡ˆï¼‰ã€`FoF Gamification`ï¼ˆç§¯åˆ†ç³»ç»Ÿï¼‰ã€`FoF Night Mode`ï¼ˆå¤œé—´æ¨¡å¼ï¼‰ã€‚

3. **æ€§èƒ½ä¼˜åŒ–**ï¼š  
   - `PWA`ï¼ˆæ¸è¿›å¼åº”ç”¨ï¼‰ã€`SEO`ï¼ˆæœç´¢å¼•æ“ä¼˜åŒ–ï¼‰ã€`Statistics`ï¼ˆç»Ÿè®¡ï¼‰ã€‚

4. **å®‰å…¨æ€§**ï¼š  
   - `FoF reCAPTCHA`ï¼ˆéªŒè¯ç ï¼‰ã€`FoF Spamblock`ï¼ˆåƒåœ¾ç”¨æˆ·æ ‡è®°ï¼‰ã€‚

5. **ç¬¬ä¸‰æ–¹é›†æˆ**ï¼š  
   - `Bazaar`ï¼ˆæ’ä»¶å¸‚åœºï¼‰ã€`Analytics`ï¼ˆç»Ÿè®¡ï¼‰ã€`Web Push Notification`ï¼ˆæ¨é€ï¼‰ã€‚

---

## é—®é¢˜é›†é”¦

**é—®é¢˜æè¿°**
```bash
    ERROR: failed to solve failed to do request: Head â€œhttps://registry-1.docker.io/v2/library/nginx/manifests/1.19.7â€: EOF
```

**å‡ºç°åŸå› **

    æ›´æ¢äº†é•œåƒä»“åº“ä¸ºå›½å†…é•œåƒæºï¼›
    ä¿®æ”¹docker engineçš„é…ç½®ï¼›

è¿™é‡Œè´´ä¸€ä¸‹æˆ‘æ”¹åçš„é…ç½®ï¼Œä¸¤å¤„æ”¹åŠ¨ï¼Œå¢åŠ äº†å›½å†…é•œåƒæºåœ°å€registry-mirrorsï¼Œbuildkit æ”¹ä¸ºfalseã€‚é…ç½®æ–‡ä»¶è·¯å¾„ä¸ºï½.docker/daemon.json
```json
{
 "registry-mirrors": [ 
    "http://hub-mirror.c.163.com",
    "https://docker.mirrors.ustc.edu.cn/"
  ],
  "builder": {
    "gc": {
      "defaultKeepStorage": "20GB",
      "enabled": true
    }
  },
  "experimental": false,
  "features": {
    "buildkit": false
  }
}
```



**è§£å†³åŠæ³•**

ä½¿ç”¨ docker system çš„ç³»åˆ—å‘½ä»¤æ¥æ¸…ç†é•œåƒç¼“å­˜ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿ç»´æ¸…ç†é•œåƒæ˜¯é€šè¿‡å‘½ä»¤ docker rm i åˆ é™¤é•œåƒçš„ã€‚ä½†æ˜¯è¿™æ¡å‘½ä»¤ä¸ä¼šåˆ é™¤docker buildå‘½ä»¤äº§ç”Ÿçš„ç¼“å­˜æ–‡ä»¶ã€‚

å…ˆæŸ¥çœ‹ä¸€ä¸‹dockerå ç”¨çš„å­˜å‚¨ç©ºé—´æƒ…å†µï¼Œæ‰§è¡Œdocker system df ã€‚å¦‚å›¾ï¼ŒBuild Cache ä¸ºæœ¬åœ°ç¼“å­˜ï¼Œå¤§å°ä¸º15.11MBï¼š
æŸ¥çœ‹dockerå ç”¨

æ‰§è¡Œå‘½ä»¤docker builder pruneï¼Œä¸€é”®æ¸…é™¤Build Cacheç¼“å­˜:
```bash
docker builder prune
```


æ‰§è¡Œå‘½ä»¤åï¼Œä¼šæç¤ºæ­¤æ“ä½œå°†ç§»é™¤æ‰€æœ‰æ‚¬ç©ºé•œåƒç¼“å­˜ï¼Œè¾“å…¥yç¡®è®¤ï¼Œ
æ¸…æ¥šbuild cache
å†æ¬¡æŸ¥çœ‹dockerå ç”¨æƒ…å†µï¼ŒBuild Cacheå·²æ¸…ç©ºï¼Œ
åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°

æ·±åº¦æ¸…ç†
å¦‚æœè¿˜æ˜¯ä¸è¡ŒğŸ™…ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨docker system pruneæ·±åº¦æ¸…ç†ï¼Œæ­¤æ“ä½œä¼šåˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„å®¹å™¨ã€ç½‘ç»œã€é•œåƒï¼ˆåŒ…æ‹¬æ‚¬ç©ºçš„å’Œæœªå¼•ç”¨çš„ï¼‰ä»¥åŠå·ï¼ˆå¯é€‰ï¼‰ï¼ŒåŠ¡å¿…è°¨æ…æ“ä½œï¼ï¼ï¼
docker system prune

å¯¹åº”å¯ä½¿ç”¨çš„å‚æ•°ï¼š

    -a, --allï¼šåˆ é™¤æœªè¢«ä»»ä½•å®¹å™¨å¼•ç”¨çš„æ‰€æœ‰é•œåƒï¼Œè€Œä¸ä»…ä»…æ˜¯æ‚¬ç©ºé•œåƒ
    â€“force, -fï¼šè·³è¿‡ç¡®è®¤æ­¥éª¤ï¼Œç›´æ¥æ‰§è¡Œåˆ é™¤ï¼›å¦‚æœä¸ç”¨åœ¨æ‰§è¡Œæ­¥éª¤æ—¶éœ€è¦æ‰‹åŠ¨ç¡®è®¤ï¼Œå»ºè®®ä¸ç”¨
    â€“volumes, -vï¼šåˆ é™¤æ‰€æœ‰æœªè¢«è‡³å°‘ä¸€ä¸ªå®¹å™¨å¼•ç”¨çš„å·
    â€“filterï¼šæ ¹æ®æä¾›çš„æ¡ä»¶è¿‡æ»¤è¦åˆ é™¤çš„å†…å®¹
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”













**é—®é¢˜æè¿°**


``` 
=> ERROR [internal] load metadata for docker.io/library/composer:latest                                                                                                30.3s
 => ERROR [internal] load metadata for docker.io/library/php:8.2-fpm-bookworm        
```

**é—®é¢˜åˆ†æ**
1. Dockerå›½å†…å›½å¤–é•œåƒæºå…¨éƒ¨å…³ç«™



Docker é•œåƒåŠ é€Ÿåˆ—è¡¨ï¼ˆ2024å¹´11æœˆå·²æ›´æ–°ï¼‰

    è¯·æ³¨æ„ï¼æœ‰äº›é•œåƒç«™ä»…æä¾›åŸºç¡€é•œåƒæˆ–ç™½åå•é•œåƒï¼Œå¦‚æœæŸä¸ªåŠ é€Ÿåœ°å€æ— æ³•æ‹‰å–åˆ°æ‰€éœ€çš„é•œåƒï¼Œå¯ä»¥å°è¯•åˆ‡æ¢åˆ°å…¶ä»–åœ°å€ã€‚æœ‰äº›ç«™ç‚¹æ˜¯çƒ­å¿ƒç½‘å‹è‡ªè´¹æ­å»ºçš„ï¼Œè¯·åŠ¡å¿…åˆç†ä½¿ç”¨ã€‚å¦‚æœä¾µçŠ¯äº†æ‚¨çš„æƒç›Šï¼Œè¯·éšæ—¶è”ç³»æˆ‘ï¼Œæˆ‘ä¼šåŠæ—¶åˆ é™¤ç›¸å…³ä¿¡æ¯ã€‚æ„Ÿè°¢æ‚¨çš„ç†è§£ä¸æ”¯æŒï¼

DockerHub é•œåƒä»“åº“	æ˜¯å¦æ­£å¸¸
hub.xdark.top	æ­£å¸¸
hub.littlediary.cn	æ­£å¸¸
dockerpull.org	æ–°å¢
hub.crdz.gq	æ­£å¸¸
docker.1panel.live	æ­£å¸¸
docker.unsee.tech	æ–°å¢
docker.m.daocloud.io	æ­£å¸¸
docker.kejilion.pro	æ­£å¸¸
registry.dockermirror.com	æ­£å¸¸
hub.rat.dev	æ­£å¸¸
dhub.kubesre.xyz	æ­£å¸¸
docker.nastool.de	æ­£å¸¸
docker.hpcloud.cloud	å¤±æ•ˆ
docker.hlyun.org	å¤±æ•ˆ
doublezonline.cloud	å¤±æ•ˆ
docker.chenby.cn	å¤±æ•ˆ
ginger20240704.asia	å¤±æ•ˆ
lynn520.xyz	å¤±æ•ˆ
hub.docker-ttc.xyz	å¤±æ•ˆ
noohub.ru	å¤±æ•ˆ
docker.nat.tf	å¤±æ•ˆ
dockerproxy.cn	å¤±æ•ˆ
freeno.xyz	å¤±æ•ˆ
docker.registry.cyou	å¤±æ•ˆ
hub.yuzuha.cc	å¤±æ•ˆ
docker-cf.registry.cyou	å¤±æ•ˆ
docker.mrxn.net	å¤±æ•ˆ
dockerproxy.github.io	å¤±æ•ˆ
docker.wget.at	å¤±æ•ˆ
atomhub.openatom.cn	å¤±æ•ˆ
ccr.ccs.tencentyun.com	å¤±æ•ˆ
dockerproxy.com	å¤±æ•ˆ
dislabaiot.xyz	å¤±æ•ˆ
dockerpull.com	å¤±æ•ˆ
hub.firefly.store	å¤±æ•ˆ
é…ç½®æ–¹å¼1ï¼šä¸´æ—¶ä½¿ç”¨

ç›´æ¥ä½¿ç”¨ï¼Œç›´æ¥æ‹¿é•œåƒåŸŸåæ‹¼æ¥ä¸Šå®˜æ–¹é•œåƒåï¼Œä¾‹å¦‚è¦æ‹‰å»é•œåƒistio/distrolessï¼Œå¯ä»¥ç”¨ä¸‹é¢å†™æ³•ï¼ˆä¸è¦å¸¦ https://ï¼‰

docker pull docker.unsee.tech/istio/distroless


é…ç½®æ–¹å¼2ï¼šé•¿ä¹…æœ‰æ•ˆ

    Ubuntu 16.04+ã€Debian 8+ã€CentOS 7+

ä¿®æ”¹æ–‡ä»¶ /etc/docker/daemon.jsonï¼ˆå¦‚æœä¸å­˜åœ¨åˆ™éœ€è¦åˆ›å»ºåˆ›å»ºï¼Œæ³¨æ„ä¸è¦å†™å…¥ä¸­æ–‡ï¼Œè¦å¸¦https://ï¼‰ï¼Œå¹¶é‡å¯æœåŠ¡ã€‚


```
sudo mkdir -p /etc/docker # åˆ›å»ºç›®å½•
```

``` bash
sudo tee /etc/docker/daemon.json <<-'EOF'  # å†™å…¥é…ç½®æ–‡ä»¶
{
    "registry-mirrors": [
    	"https://docker.unsee.tech",
        "https://dockerpull.org",
        "docker.1panel.live",
        "https://dockerhub.icu"
    ]
}
EOF
```

```bash
sudo systemctl daemon-reload && sudo systemctl restart docker #é‡å¯dockeræœåŠ¡
```


å¯ç›´æ¥ä½¿ç”¨docker pullæ‹‰å»é•œåƒè¿›è¡Œæµ‹è¯•ï¼š

æˆ–ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆï¼š

ping -c 3 docker.unsee.tech


â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”






1. é—®é¢˜è¯¦æƒ…

```bash
æ­£åœ¨æ‹‰å– Trantor åŸºç¡€ç¯å¢ƒé•œåƒ....
Pulling consul    ... 
Pulling redis     ... 
Pulling mysql     ... 
Pulling datastore ... 
Pulling console   ... 
Pulling workspace ... 
Pulling gateway   ... 
Pulling metastore ... 

ERROR: for workspace  docker-credential-desktop not installed or not available in PATH

ERROR: for redis  docker-credential-desktop not installed or not available in PATH

ERROR: for gateway  docker-credential-desktop not installed or not available in PATH
```


2. åŸå› ï¼š

å¤§å¤šä¸ºé‡æ–°å®‰è£…äº†docker-composeä¹‹åï¼Œ~/.docker/config.jsonæ–‡ä»¶ä¸­é…ç½®ä¸å¯¹

3. è§£å†³åŠæ³•ï¼š

åˆ é™¤rm -rf ~/.docker/config.jsonæ–‡ä»¶
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”










**é—®é¢˜æè¿°**ï¼š
```
unable to access 'https://github.com/nvm-sh/nvm/': Failed to connect to github.com port 443 after 135941 ms:
```

**é—®é¢˜åˆ†æ**ï¼š
```
è¿™æ˜¯ç”±äºnodeå·²ä¸æ”¯æŒnvmï¼Œæ‰€ä»¥ä½ ä¼šå»æŸ¥çœ‹nvmå®˜æ–¹çš„è§£å†³æ–¹æ¡ˆï¼Œä¼šç»™ä½ æä¾›æœ€æ–°çš„å®‰è£…æˆ–è€…æ›´æ–°æ–¹æ³•ï¼Œè¿˜æœ‰å„ç§é—®é¢˜çš„æ’æŸ¥æ€è·¯
```

**é—®é¢˜è§£å†³**
```
å¼€VPNè®¿é—®https://github.com/devcontainers/features/tree/main/src/node
```

```
æ‰‹åŠ¨å®‰è£…
wegt https://github.com/devcontainers/features/blob/main/src/node/install.sh

. install.sh
```


nvm å¸¸ç”¨æ“ä½œå‘½ä»¤ï¼š

    nvm ls æŸ¥çœ‹å·²ç»å®‰è£…äº†çš„nodeç‰ˆæœ¬
    nvm use vxx.xx.x åº”ç”¨æŸä¸ªç‰ˆæœ¬
    nvm alias default vxx.xx.x è®¾ç½®é»˜è®¤å½“å‰ç”µè„‘çš„é»˜è®¤ç‰ˆæœ¬ï¼Œæ¯æ¬¡æ‰“å¼€VScodeç­‰ç¼–è¾‘å™¨å·²ç‰ˆæœ¬ä¸ºä¸»ï¼›
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”



