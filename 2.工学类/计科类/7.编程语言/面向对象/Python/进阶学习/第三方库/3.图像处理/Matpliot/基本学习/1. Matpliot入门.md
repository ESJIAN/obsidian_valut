| 问题                    | 描述                                                                                                            |
| --------------------- | :------------------------------------------------------------------------------------------------------------ |
| **全局状态冲突**            | Matplotlib使用基于全局状态的模型来管理图形，这导致在多个线程中同时绘图时可能会产生竞态条件1。解决方案是在每个线程中创建和显示自己的图形实例，或者使用支持异步更新的GUI库，如Tkinter3。        |
| **GUI操作限制**           | 创建和销毁图形窗口必须在**主线程**中进行，如果在其他线程中进行这些操作，可能会导致图形窗口无法显示或异常关闭2。解决方案是确保所有图形窗口和坐标系的创建都在主线程中完成。                       |
| **线程间同步**             | 当多个线程需要访问共享的Matplotlib绘图对象时，需要使用同步机制来避免数据竞争和访问冲突1。可以使用`threading.Lock`或`multiprocessing.Lock`来确保对共享绘图数据的安全访问。 |
| **`plt.show()`的使用限制** | `plt.show()`只能在主线程中调用，否则可能导致图像无法显示1。解决方案是使用`plt.savefig()`将绘图保存到文件中，而不是直接在图形窗口中显示。                            |
| **使用进程池**             | 如果需要并行绘制多个图形，可以使用`multiprocessing`模块创建进程池，每个进程在不同的线程中运行，从而避免线程间的竞争条件                                          |
| **避免死锁**              | 在使用锁或其他同步机制时，需要小心避免死锁和其他多线程错误。确保在绘图操作完成后正确释放锁                                                                 |

